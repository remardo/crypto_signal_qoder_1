<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Trading Bot - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
    <link rel="stylesheet" href="styles.css">
    <!-- –í—Ä–µ–º–µ–Ω–Ω–æ —É–±—Ä–∞–Ω Font Awesome –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ -->
</head>
<body>
    <div class="app">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>ü§ñ Crypto Bot</h2>
            </div>
            <ul class="sidebar-menu">
                <li><a href="#dashboard" class="menu-link active" data-page="dashboard">
                    üìä –î–∞—à–±–æ—Ä–¥
                </a></li>
                <li><a href="#channels" class="menu-link" data-page="channels">
                    üì° –ö–∞–Ω–∞–ª—ã
                </a></li>
                <li><a href="#signals" class="menu-link" data-page="signals">
                    üìà –°–∏–≥–Ω–∞–ª—ã
                </a></li>
                <li><a href="#positions" class="menu-link" data-page="positions">
                    üí∞ –ü–æ–∑–∏—Ü–∏–∏
                </a></li>
                <li><a href="#settings" class="menu-link" data-page="settings">
                    ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                </a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <h1 id="page-title">–î–∞—à–±–æ—Ä–¥</h1>
                </div>
                <div class="header-right">
                    <div class="status-indicator" id="connection-status">
                        üî¥
                        <span>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
                    </div>
                    <button class="btn-refresh" id="refresh-btn">
                        üîÑ
                    </button>
                </div>
            </header>

            <!-- Page Content -->
            <div class="content">
                <!-- Dashboard Page -->
                <div id="dashboard-page" class="page active">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                üì°
                            </div>
                            <div class="stat-info">
                                <h3 id="total-channels">0</h3>
                                <p>–ê–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                üìà
                            </div>
                            <div class="stat-info">
                                <h3 id="total-signals">0</h3>
                                <p>–°–∏–≥–Ω–∞–ª–æ–≤ —Å–µ–≥–æ–¥–Ω—è</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                üí∞
                            </div>
                            <div class="stat-info">
                                <h3 id="open-positions">0</h3>
                                <p>–û—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                üíµ
                            </div>
                            <div class="stat-info">
                                <h3 id="total-pnl">$0.00</h3>
                                <p>–û–±—â–∏–π P&L</p>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-content">
                        <div class="card">
                            <div class="card-header">
                                <h3>–°–∏—Å—Ç–µ–º–Ω—ã–π —Å—Ç–∞—Ç—É—Å</h3>
                            </div>
                            <div class="card-body">
                                <div id="system-status" class="system-status">
                                    <div class="service-status">
                                        <span class="service-name">Telegram Bot</span>
                                        <span class="status-badge" id="telegram-status">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                                    </div>
                                    <div class="service-status">
                                        <span class="service-name">Redis</span>
                                        <span class="status-badge" id="redis-status">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                                    </div>
                                    <div class="service-status">
                                        <span class="service-name">PostgreSQL</span>
                                        <span class="status-badge" id="postgres-status">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                                    </div>
                                    <div class="service-status">
                                        <span class="service-name">BingX API</span>
                                        <span class="status-badge" id="bingx-status">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–∏–≥–Ω–∞–ª—ã</h3>
                            </div>
                            <div class="card-body">
                                <div id="recent-signals" class="signals-list">
                                    <p class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Channels P&L Section -->
                <div class="card">
                    <div class="card-header">
                        <h3>P&L –ø–æ –∫–∞–Ω–∞–ª–∞–º</h3>
                    </div>
                    <div class="card-body">
                        <div id="channels-pnl" class="channels-pnl-list">
                            <p class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ P&L –ø–æ –∫–∞–Ω–∞–ª–∞–º...</p>
                        </div>
                    </div>
                </div>

                <!-- Channels Page -->
                <div id="channels-page" class="page">
                    <div class="page-header">
                        <button class="btn btn-primary" id="add-channel-btn">
                            ‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª
                        </button>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3>–°–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤</h3>
                        </div>
                        <div class="card-body">
                            <div id="channels-table" class="table-container">
                                <p class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞–Ω–∞–ª–æ–≤...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Signals Page -->
                <div id="signals-page" class="page">
                    <div class="page-header">
                        <div class="filters">
                            <select id="signal-filter-channel">
                                <option value="">–í—Å–µ –∫–∞–Ω–∞–ª—ã</option>
                            </select>
                            <select id="signal-filter-status">
                                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                <option value="pending">–û–∂–∏–¥–∞–Ω–∏–µ</option>
                                <option value="executed">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</option>
                                <option value="failed">–û—à–∏–±–∫–∞</option>
                            </select>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h3>–¢–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã</h3>
                        </div>
                        <div class="card-body">
                            <div id="signals-table" class="table-container">
                                <p class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Positions Page -->
                <div id="positions-page" class="page">
                    <div class="card">
                        <div class="card-header">
                            <h3>–¢–æ—Ä–≥–æ–≤—ã–µ –ø–æ–∑–∏—Ü–∏–∏</h3>
                        </div>
                        <div class="card-body">
                            <div id="positions-table" class="table-container">
                                <p class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–∑–∏—Ü–∏–π...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings Page -->
                <div id="settings-page" class="page">
                    <div class="settings-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3>–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                            </div>
                            <div class="card-body">
                                <form id="general-settings-form">
                                    <div class="form-group">
                                        <label for="auto-execute">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤</label>
                                        <input type="checkbox" id="auto-execute" name="autoExecute">
                                    </div>
                                    <div class="form-group">
                                        <label for="default-risk">–†–∏—Å–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (%)</label>
                                        <input type="number" id="default-risk" name="defaultRisk" min="0.1" max="10" step="0.1" value="2">
                                    </div>
                                    <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                </form>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <h3>üõ°Ô∏è –†–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç</h3>
                            </div>
                            <div class="card-body">
                                <div class="form-group">
                                    <div class="risk-management-toggle">
                                        <label for="disable-risk-management" class="toggle-label">
                                            <span class="toggle-text">–û—Ç–∫–ª—é—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞</span>
                                            <div class="toggle-switch">
                                                <input type="checkbox" id="disable-risk-management" name="disableRiskManagement">
                                                <span class="toggle-slider"></span>
                                            </div>
                                        </label>
                                        <small class="warning-text">‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ü—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –±–æ—Ç –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –í–°–ï —Å–∏–≥–Ω–∞–ª—ã –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ä–∏—Å–∫–∞!</small>
                                    </div>
                                </div>
                                <div class="risk-status">
                                    <div class="status-indicator" id="risk-management-status">
                                        <span class="status-icon">üõ°Ô∏è</span>
                                        <span class="status-text">–ê–∫—Ç–∏–≤–µ–Ω</span>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-primary" id="save-risk-settings">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="add-channel-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="add-channel-form">
                    <div class="form-group">
                        <label for="channel-telegram-id">Telegram Channel ID</label>
                        <input type="text" id="channel-telegram-id" name="telegramChannelId" required>
                        <small>–ù–∞–ø—Ä–∏–º–µ—Ä: @tradingchannel –∏–ª–∏ -1001234567890</small>
                    </div>
                    <div class="form-group">
                        <label for="channel-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞</label>
                        <input type="text" id="channel-name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="channel-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="channel-description" name="description"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="channel-risk">–†–∏—Å–∫ (%) –Ω–∞ –ø–æ–∑–∏—Ü–∏—é</label>
                        <input type="number" id="channel-risk" name="riskPercentage" min="0.1" max="20" step="0.1" value="2">
                    </div>
                    <div class="form-group">
                        <label for="channel-auto-execute">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</label>
                        <input type="checkbox" id="channel-auto-execute" name="autoExecute">
                    </div>
                    <div class="form-group">
                        <label>–ü—Ä–æ—Ü–µ–Ω—Ç—ã –∑–∞–∫—Ä—ã—Ç–∏—è –Ω–∞ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞—Ö</label>
                        <div class="tp-percentages-container">
                            <div class="tp-row">
                                <label>TP1 (%):</label>
                                <input type="number" name="tpPercentage1" min="0.1" max="100" step="0.1" value="25" class="tp-input">
                            </div>
                            <div class="tp-row">
                                <label>TP2 (%):</label>
                                <input type="number" name="tpPercentage2" min="0.1" max="100" step="0.1" value="25" class="tp-input">
                            </div>
                            <div class="tp-row">
                                <label>TP3 (%):</label>
                                <input type="number" name="tpPercentage3" min="0.1" max="100" step="0.1" value="50" class="tp-input">
                            </div>
                            <button type="button" class="btn btn-small btn-secondary" id="add-tp-level">+ –î–æ–±–∞–≤–∏—Ç—å TP</button>
                        </div>
                        <small>–°—É–º–º–∞ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å 100%</small>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancel-add-channel">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Channel Modal -->
    <div id="edit-channel-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="edit-channel-form">
                    <div class="form-group">
                        <label for="edit-channel-telegram-id">Telegram Channel ID</label>
                        <input type="text" id="edit-channel-telegram-id" name="telegramChannelId" readonly>
                        <small>ID –∫–∞–Ω–∞–ª–∞ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å</small>
                    </div>
                    <div class="form-group">
                        <label for="edit-channel-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞</label>
                        <input type="text" id="edit-channel-name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-channel-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="edit-channel-description" name="description"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="edit-channel-risk">–†–∏—Å–∫ (%) –Ω–∞ –ø–æ–∑–∏—Ü–∏—é</label>
                        <input type="number" id="edit-channel-risk" name="riskPercentage" min="0.1" max="20" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="edit-channel-max-position">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ (%)</label>
                        <input type="number" id="edit-channel-max-position" name="maxPositionPercentage" min="1" max="100" step="1">
                    </div>
                    <div class="form-group">
                        <label for="edit-channel-auto-execute">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</label>
                        <input type="checkbox" id="edit-channel-auto-execute" name="autoExecute">
                    </div>
                    <div class="form-group">
                        <label>–ü—Ä–æ—Ü–µ–Ω—Ç—ã –∑–∞–∫—Ä—ã—Ç–∏—è –Ω–∞ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞—Ö</label>
                        <div class="tp-percentages-container" id="edit-tp-container">
                            <!-- TP percentage inputs will be populated dynamically -->
                        </div>
                        <small>–°—É–º–º–∞ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å 100%</small>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancel-edit-channel">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="app.js"></script>
</body>
</html>